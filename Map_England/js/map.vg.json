{ 
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json", 
  "title": "England and Wales Average Housing Prices 2017", 
  "width": 800, 
  "height": 600, 
  "projection": {"type": "azimuthalEqualArea"}, 
  "data": { 
    "url": "https://raw.githubusercontent.com/jlea0003/Assignment2Homework/master/js/Counties_and_Unitary_Authorities_(May_2021)_UK_BUC.json", 
    "format": {"type": "topojson", "feature": "Counties_and_Unitary_Authorities_(May_2021)_UK_BUC"} 
  }, 
  "transform": [ 
    { 
      "lookup": "properties.CTYUA21NM", 
      "from": { 
        "data": { 
          "url": "https://raw.githubusercontent.com/jlea0003/Assignment2Homework/master/data/price_paid_2017.csv" 
        }, 
        "key": "Unique", 
        "fields": ["Average", "Detached", "Semi-Detached","Terraced","Flats","Other"]
      }
    } 
  ], 
  "mark": {"type": "geoshape", "stroke": "gray"}, 
  "encoding": { 
    "color": { 
      "field": "Average", 
      "type": "quantitative",
      "title": "Average House Price",
            "scale": { 
        "type": "threshold", 
        "domain": [200000, 300000, 400000, 500000, 600000], 
        "range": ["#ffffd4","#fee391","#fec44f", "#fe9929", "#d95f0e", "#993404"] 
    }
  }, 
      "tooltip": [ 
      {"field": "properties.CTYUA21NM", "type": "nominal", "title": "District and/ or County"}, 
      {"field": "Average", "type": "quantitative", "format": ".0f", "title": "Average price in pounds"},
      {"field": "Detached", "type": "quantitative", "title": "Number sold; Detached"},
      {"field": "Semi-Detached", "type": "quantitative", "title": "Number sold; Semi-Detached"},
      {"field": "Terraced", "type": "quantitative", "title": "Number sold; Terraced"},
      {"field": "Flats", "type": "quantitative", "title": "Number sold; Flats"},
      {"field": "Other", "type": "quantitative", "title": "Number sold; Other"} 
    ] 
}
}